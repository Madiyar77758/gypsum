<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ ‚Äî Holo UI</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>

  <style>
    /* ======= HOLO UI THEME ======= */
    :root{
      --bg-1:#0e1514;
      --bg-2:#0b1a16;
      --paper:#F6FBE6;
      --holo1:#60a5fa;
      --holo2:#22d3ee;
      --holo3:#a78bfa;
      --accent:#b3d18a;
      --glass: rgba(255,255,255,.06);
      --glass-stroke: rgba(255,255,255,.18);
      --ink:#eaf3dd;
    }

    html,body{height:100%;}

    body{
      min-height:100%;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--paper);
      overflow-x: hidden;
      background:
        radial-gradient(1200px 800px at 10% -10%, rgba(96,165,250,.12), transparent 60%),
        radial-gradient(900px 700px at 110% 10%, rgba(34,211,238,.12), transparent 60%),
        radial-gradient(900px 700px at 50% 120%, rgba(167,139,250,.12), transparent 60%),
        linear-gradient(180deg, var(--bg-1), var(--bg-2));
    }

    .holo-grid::before{
      content:"";
      position:fixed; inset:0; z-index:-1;
      background:
        linear-gradient(transparent 31px, rgba(255,255,255,.045) 32px),
        linear-gradient(90deg, transparent 31px, rgba(255,255,255,.045) 32px);
      background-size:32px 32px;
      mask-image: radial-gradient(60% 60% at 50% 40%, #000 50%, transparent 100%);
      opacity:.35;
    }

    /* Navbar */
    .navbar-custom{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border-bottom: 1px solid var(--glass-stroke);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    .navbar-brand{
      font-weight:800; letter-spacing:.6px;
      background: linear-gradient(120deg, var(--paper), var(--accent));
      -webkit-background-clip:text; -webkit-text-fill-color:transparent;
      filter: drop-shadow(0 2px 8px rgba(179,209,138,.25));
    }
    .nav-link{color:rgba(246,251,230,.95)!important; opacity:.85}
    .nav-link:hover{opacity:1}

    .search-input{
      background: rgba(255,255,255,.08);
      color: var(--paper);
      border: 1px solid var(--glass-stroke);
      border-radius: 12px;
    }
    .search-input::placeholder{color:#cfe5c2}

    .search-btn{
      border:none; border-radius: 12px; color:#fff; font-weight:700;
      background: linear-gradient(90deg, var(--holo3), var(--holo1));
      box-shadow: 0 8px 22px rgba(96,165,250,.35), inset 0 0 6px rgba(255,255,255,.25);
    }

    /* Title */
    .holo-title{
      font-weight:900; letter-spacing:.8px;
      font-size: clamp(28px, 2.8vw, 44px);
      text-align:center; margin: 26px 0 22px;
      background: linear-gradient(120deg, var(--holo1), var(--holo2), var(--holo3));
      -webkit-background-clip:text; -webkit-text-fill-color:transparent;
      animation: holo-sheen 7s linear infinite;
    }

    @keyframes holo-sheen{
      0%{background-position:0% 50%}
      100%{background-position:100% 50%}
    }

    /* Product cards */
    .holo-card{
      position:relative; border-radius:22px; overflow:hidden;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border: 1px solid var(--glass-stroke);
      box-shadow: 0 18px 40px rgba(0,0,0,.45), inset 0 0 8px rgba(255,255,255,.22);
      transition: .35s ease;
    }

    .product-img{
      height:240px; width:100%; object-fit:cover;
      border-bottom:1px solid rgba(255,255,255,.15);
    }

    /* –ö–ù–û–ü–ö–ê ‚Äî —Å—Ç–∏–ª—å –Ω–∞–≤–µ–¥–µ–Ω–∏—è */
    .btn-order{
      border:none;
      border-radius:14px;
      font-weight:700;
      letter-spacing:.3px;
      color:#f2f6ee;
      background:linear-gradient(90deg,#6f7c68,#829b74);
      transition: all .25s ease;
    }

    .btn-order:hover{
      background: linear-gradient(90deg,#7c8f75,#96b18a);
      box-shadow:
        0 12px 28px rgba(165,185,150,.35),
        0 0 14px rgba(200,220,180,.28);
    }

    .card-body,
    .product-name,
    .price,
    .desc {
      text-align: center;
    }

    footer{
      margin-top:50px;
      padding:20px 0;
      border-top:1px solid var(--glass-stroke);
      text-align:center;
      color:var(--paper);
      opacity:.65;
      font-size:15px;
    }
  </style>
</head>

<body class="holo-grid">

  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-custom sticky-top">
    <div class="container-fluid px-4">

      <a class="navbar-brand" href="/">Gypsum<span style="color:var(--accent)">Inventory</span></a>

      <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#topNav">
        <span class="navbar-toggler-icon" style="filter: invert(85%);"></span>
      </button>

      <div class="collapse navbar-collapse" id="topNav">
        <ul class="navbar-nav me-auto">
          <li class="nav-item"><a class="nav-link active" href="#">–ö–∞—Ç–∞–ª–æ–≥</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'about' %}">–û –∫–æ–º–ø–∞–Ω–∏–∏</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'contacts' %}">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'services' %}">–£—Å–ª—É–≥–∏</a></li>
        </ul>

        <!-- DROPDOWN -->
        {% if user.is_authenticated %}
          <div class="dropdown ms-4">
            <button class="btn dropdown-toggle d-flex align-items-center"
                    style="
                      background: rgba(255,255,255,.08);
                      border: 1px solid rgba(255,255,255,.18);
                      backdrop-filter: blur(8px);
                      color: var(--paper);
                      font-weight:600;
                      padding: 6px 14px;
                      border-radius:14px;
                    "
                    data-bs-toggle="dropdown">
              <span style="font-size:18px; margin-right:8px;">üë§</span>
              {{ user.username }}
            </button>

            <ul class="dropdown-menu dropdown-menu-end"
                style="
                  background: rgba(20,20,20,.75);
                  border:1px solid rgba(255,255,255,.15);
                  backdrop-filter: blur(12px);
                  border-radius:14px;
                  box-shadow:0 12px 30px rgba(0,0,0,.4);
                ">
              <li>
                <a class="dropdown-item text-danger fw-bold" href="{% url 'logout' %}">
                  ‚ùå –í—ã–π—Ç–∏
                </a>
              </li>
            </ul>
          </div>
        {% else %}
          <div class="ms-4 d-flex align-items-center">
            <a href="{% url 'register' %}"
               class="btn btn-sm px-3"
               style="background:linear-gradient(135deg,#69db7c,#38d9a9); border-radius:14px; color:white; font-weight:700;">
              –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
            </a>
          </div>
        {% endif %}
      </div>
    </div>
  </nav>

  <!-- CONTENT -->
  <div class="container py-4">
    <h1 class="holo-title">–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏</h1>

    {% if products %}
      <div class="row g-4 row-cols-1 row-cols-sm-2 row-cols-lg-3">
        {% for product in products %}
          <div class="col">
            <div class="holo-card tilt h-100">

              {% if product.image %}
                <img src="{{ product.image.url }}" class="product-img">
              {% else %}
                <img src="{{ product.get_image_url }}" class="product-img">
              {% endif %}

              <div class="card-body">
                <h5 class="product-name">{{ product.name }}</h5>
                <p class="price">{{ product.price }} —Ç–≥ <span class="unit">/ {{ product.unit }}</span></p>
                {% if product.description %}
                  <p class="desc">{{ product.description }}</p>
                {% endif %}
              </div>

              <div class="card-footer bg-transparent p-3 pt-2">
                <a href="{% url 'create_order' %}?product_id={{ product.id }}"
                   class="btn btn-order w-100 py-2">
                  –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
                </a>
              </div>

            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="alert alert-light text-center mt-3">–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ üòî</div>
    {% endif %}
  </div>

  <!-- FOOTER -->
  <footer>
    ¬© {{ now|date:"Y" }} GypsumInventory ‚Äî –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã
  </footer>

  <!-- BOOTSTRAP JS (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ, —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ!) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
